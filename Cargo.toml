[profile.release]
panic = "unwind"

[profile.production]
inherits = "release"
lto = true

[profile.testnet]
inherits = "release"
debug = 1 # debug symbols are useful for profilers
debug-assertions = true
overflow-checks = true

[workspace]
resolver = "2"

exclude = [
	"substrate",
	"subxt",
	"webpki",
	"ring",
	"native-nostd-hasher",
	"standalone/pruntime",
	"crates/pink/examples/",
	"crates/pink",
	"crates/pink/pink-extension",
	"crates/pink/pink-extension/macro",
	"standalone/executor",
	"standalone/node",
	"standalone/pherry",
	"standalone/rpc",
	"crates/phaxt",
	"scripts/toml-upgrade-version",
	"crates/phala-async-executor",
	"scripts/debug-cli",
	"pallets/bridge",
	"pallets/utility",
	"pallets/phala",
	"pallets/phala/mq-runtime-api",
	"standalone/replay",
	"crates/phala-node-rpc-ext",
]

members = [
	"standalone/runtime",
	"crates/phala-trie-storage",
	"crates/phala-mq",
	"crates/phala-crypto",
	"crates/phala-types",
	"crates/prpc",
	"crates/prpc-build",
	"crates/phactory",
	"crates/phactory/api",
	"crates/phactory/pal",
	"crates/phala-types",
	"crates/phala-allocator",
	"crates/phala-rocket-middleware",
	"crates/phala-serde-more",
]
